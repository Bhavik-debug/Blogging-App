<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head') %>
        <title>
            <%= blog.title %>
        </title>

        <!-- Google Font (Inter â€“ great for blogs) -->
        <link
            href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Rubik:wght@300;400;500&display=swap"
            rel="stylesheet">

        <style>
            body {
                font-family: 'Rubik', sans-serif !important;
                background-color: #f8f8f8;
                color: #333;
                line-height: 1;
            }

            h1 {
                font-size: 3rem;
                font-weight: 600;
                margin-bottom: 20px;
                text-align: center;
                color: #111;
            }

            .blog-container {
                background: #ffffff;
                padding: 35px;
                border-radius: 12px;
                box-shadow: 0px 4px 22px rgba(0, 0, 0, 0.05);
                margin-top: 40px;
                margin-bottom: 60px;
            }

            .blog-cover {
                border-radius: 10px;
                margin-bottom: 25px;
            }

            pre.blog-body {
                white-space: pre-wrap;
                overflow-wrap: break-word;
                word-wrap: break-word;

                /* Typography improvements */
                font-size: 1.2rem;
                color: #2d2d2d;
                line-height: 1.9;
                font-weight: 400;

                /* Remove default <pre> background */
                background: none;
                border: none;
                padding: 0;
            }
        </style>
</head>

<body>

    <%- include('./partials/nav') %>

        <div class="container">
            <div class="blog-container">
                <h1>
                    <%= blog.title %>
                </h1>

                <img src="<%= blog.coverImageURL %>" class="img-fluid blog-cover" alt="<%= blog.title %>">

                <pre class="blog-body"><%= blog.body %></pre>

                <div class="box">
                    <img src="<%= blog.createdBy.profileImageURL %>" width="40px" alt="">
                    <u><b><i><%= blog.createdBy.fullName %></i></b></u></img>                    
                </div>
            </div>
        </div>

        <div class="container mt-3">
            <h3>Comments</h3>

            <form action="/blog/comment/<%= blog._id %>" method="post">
                <div class="mb-3">
                    <input type="text" class="form-control" name="content" placeholder="Enter your comment...">
                </div>
                <button type="submit" class="btn btn-primary">Add</button>
            </form>

            <div class="mt-3">
                <% comments.forEach(comment=> { %>
                    <div>
                        <img src="<%= comment.createdBy.profileImageURL %>" width="20px" alt="">
                        <u><%= comment.createdBy.fullName %></u></img>:<pre><%= comment.content %></pre>
                    </div>
                <% }) %>
            </div>
        </div>


        <%- include('./partials/scripts') %>
</body>

</html>